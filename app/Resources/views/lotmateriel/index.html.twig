{% extends 'index.html.twig' %}

{# INDEX : MATERIAL #}

{# initialize the array of linked entities ([entity1, entity2 ...]) to which we wish to make a link-shortcuts
1) The table of results should include a collumn of the type: <th data-column-id = "linkEntity" data-formatter = "linkEntity" data-sortable = "false"> Col. </ Th>
2) the controller will have to return in the table rows the colloids of the type: "linkEntity1" => "patern1", "linkeEntity2" => "patern2" ... #}
{% set links =  ['individu', 'individu_codestation'] %}

{% block action %}
    {{ parent() }}
    {% if is_granted('ROLE_PROJECT') %}
       <a href="{{ path( route_importfiles ) }}" class="btn btn-primary btn-sm" role="button">{{['buton.Import',entityname|capitalize]|join|trans}}</a>
    {% else %}
        <a href="#" class="btn btn-primary btn-sm" style="background-color:lightgrey" role="button">{{['buton.Import',entityname|capitalize]|join|trans}}</a>
    {% endif %}
{% endblock %} 

{% block body %}
     
    {# definition of collones to display 
    RQ! for sortable collones, suffix the field names with the names of tables tableName.fieldName #} 
    <div class="table-responsive">        
    <table id="grid-basic" class="table table-condensed table-hover table-striped" >           
        <thead>
            <tr>
                <th data-column-id="lotMateriel.id" data-type="numeric" data-visible="false">Id</th>
                <th data-column-id="collecte.codeCollecte" data-sortable="true">{{'Code collecte'|trans}}</th>                
                <th data-column-id="lotMateriel.codeLotMateriel" data-sortable="true">{{'Code lot materiel'|trans}}</th> 
                <th data-column-id="lotMateriel.aFaire">{{'A faire'|trans}}</th>
                <th data-column-id="lotMateriel.commentaireConseilSqc" data-sortable="false">{{'Commentaire conseil sqc'|trans}}</th> 
                <th data-column-id="lotMateriel.dateLotMateriel" data-type="date">{{'Date lot materiel'|trans}}</th>
                <th data-column-id="listePersonne" data-sortable="false" data-visible="false">{{'list.Liste personnes'|trans}}</th>
                <th data-column-id="pays.nomPays" data-type="date" data-visible="false">{{'Nom pays'|trans}}</th>
                <th data-column-id="commune.codeCommune"  data-visible="false">{{'Code commune'|trans}}</th>
                <th data-column-id="lastTaxname" data-sortable="true" data-visible="false">{{'list.Last taxname'|trans}}</th> 
                <th data-column-id="lastdateIdentification" data-sortable="false" data-visible="false">{{'list.Last identification date'|trans}}</th>  
                <th data-column-id="codeIdentification" data-sortable="false" data-visible="false">{{'list.Last identification critere'|trans}}</th> 
                <th data-column-id="lotMateriel.dateMaj" data-width="100">{{'list.Date maj'|trans}}</th>
                <th data-column-id="lotMateriel.dateCre" data-width="100" data-visible="false">{{'list.Date cre'|trans}}</th>
                <th data-column-id="lotMateriel.userCre" data-width="10" data-visible="false">{{'list.User cre'|trans}}</th>
                <th data-column-id="lotMateriel.userMaj" data-width="10" data-visible="false">{{'list.User maj'|trans}}</th>
                <th data-column-id="show" data-formatter="show" data-sortable="false"   data-width="20">Show</th>
                <th data-column-id="edit" data-formatter="edit" data-sortable="false"  data-width="20">Edit</th>
                <th data-column-id="delete" data-formatter="delete" data-sortable="false" data-width="20">Delete</th>
                <th data-column-id="linkIndividu" data-formatter="linkIndividu" data-sortable="false" data-width="20">Ind(s)</th>
                <th data-column-id="linkIndividu_codestation" data-formatter="linkIndividu_codestation" data-sortable="false" data-width="20">Ind/St</th>
            </tr>
        </thead>
    </table>
    </div>       
{% endblock %}


